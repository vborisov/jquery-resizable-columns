/**
 * jquery-resizable-columns - Resizable table columns for jQuery
 * @date Wed Apr 13 2022 13:33:10 GMT+0800 (中国标准时间)
 * @version v0.2.3
 * @link http://dobtco.github.io/jquery-resizable-columns/
 * @license MIT
 */
!function t(e,n,i){function s(o,r){if(!n[o]){if(!e[o]){var h="function"==typeof require&&require;if(!r&&h)return h(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return s(n?n:t)},u,u.exports,t,e,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var s=t("./class"),a=i(s),o=t("./constants");$.fn.resizableColumns=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return this.each(function(){var e=$(this),i=e.data(o.DATA_API);if(i){if("string"==typeof t){var s;return(s=i)[t].apply(s,n)}}else i=new a["default"](e,t),e.data(o.DATA_API,i)})},$.resizableColumns=a["default"]},{"./class":2,"./constants":3}],2:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./constants"),o=function(){function t(e,n){i(this,t),this.ns=".rc"+this.count++,this.originalTableLayout=e.css("table-layout"),this.options=$.extend({},t.defaults,n),this.$window=$(window),this.$ownerDocument=$(e[0].ownerDocument),this.$table=e,this.refreshHeaders(),this.restoreColumnWidths(),this.syncHandleWidths(),this.bindEvents(this.$window,"resize",this.syncHandleWidths.bind(this)),this.options.start&&this.bindEvents(this.$table,a.EVENT_RESIZE_START,this.options.start),this.options.resize&&this.bindEvents(this.$table,a.EVENT_RESIZE,this.options.resize),this.options.stop&&this.bindEvents(this.$table,a.EVENT_RESIZE_STOP,this.options.stop)}return s(t,[{key:"refreshHeaders",value:function(){var t=this.options.selector;"function"==typeof t&&(t=t.call(this,this.$table)),this.$tableHeaders=this.$table.find(t),this.assignPercentageWidths(),this.createHandles(),this.$table.css("table-layout","fixed")}},{key:"createHandles",value:function(){var t=this,e=this.$handleContainer;null!=e&&e.remove(),this.$handleContainer=$("<div class='"+a.CLASS_HANDLE_CONTAINER+"' />"),this.options.handleContainer?this.options.handleContainer.before(this.$handleContainer):this.$table.before(this.$handleContainer),this.$tableHeaders.each(function(e,n){var i=t.$tableHeaders.eq(e),s=t.$tableHeaders.eq(e+1);if(!i.is(a.SELECTOR_UNRESIZABLE)&&!s.is(a.SELECTOR_UNRESIZABLE)){$("<div class='"+a.CLASS_HANDLE+"' />").data(a.DATA_TH,$(n)).appendTo(t.$handleContainer)}}),this.bindEvents(this.$handleContainer,["mousedown","touchstart"],"."+a.CLASS_HANDLE,this.onPointerDown.bind(this))}},{key:"assignPercentageWidths",value:function(){var t=this;this.$tableHeaders.each(function(e,n){var i=$(n);t.setWidth(i[0],i.outerWidth())})}},{key:"syncHandleWidths",value:function(){var t=this,e=this.$handleContainer;e.width(this.$table.width()),e.find("."+a.CLASS_HANDLE).each(function(e,n){var i=$(n),s=t.options.resizeFromBody?t.$table.height():t.$table.find("thead").height(),o=i.data(a.DATA_TH).outerWidth()+(i.data(a.DATA_TH).offset().left-t.$handleContainer.offset().left);i.css({left:o,height:s})})}},{key:"saveColumnWidths",value:function(){var t=this;this.$tableHeaders.each(function(e,n){var i=$(n);t.options.store&&!i.is(a.SELECTOR_UNRESIZABLE)&&t.options.store.set(t.generateColumnId(i),t.parseWidth(n))})}},{key:"restoreColumnWidths",value:function(){var t=this;this.$tableHeaders.each(function(e,n){var i=$(n);if(t.options.store&&!i.is(a.SELECTOR_UNRESIZABLE)){var s=t.options.store.get(t.generateColumnId(i));null!=s&&t.setWidth(n,s)}})}},{key:"onPointerDown",value:function(t){if(1===t.which){this.operation&&this.onPointerUp(t);var e=$(t.currentTarget);if(!e.is(a.SELECTOR_UNRESIZABLE)){var n=e.index(),i=this.$tableHeaders.eq(n).not(a.SELECTOR_UNRESIZABLE),s=this.$tableHeaders.eq(n+1).not(a.SELECTOR_UNRESIZABLE),o=this.parseWidth(i[0]),r=this.parseWidth(s[0]);this.operation={$leftColumn:i,$rightColumn:s,$currentGrip:e,startX:this.getPointerX(t),widths:{left:o,right:r},newWidths:{left:o,right:r}},this.bindEvents(this.$ownerDocument,["mousemove","touchmove"],this.onPointerMove.bind(this)),this.bindEvents(this.$ownerDocument,["mouseup","touchend"],this.onPointerUp.bind(this)),this.$handleContainer.add(this.$table).addClass(a.CLASS_TABLE_RESIZING),i.add(s).add(e).addClass(a.CLASS_COLUMN_RESIZING),this.triggerEvent(a.EVENT_RESIZE_START,[i,s,o,r],t),t.preventDefault()}}}},{key:"onPointerMove",value:function(t){var e=this.operation;if(this.operation){var n=this.getPointerX(t)-e.startX;if(0!==n){var i=e.$leftColumn[0],s=e.$rightColumn[0],o=void 0,r=void 0;return o=this.constrainWidth(e.widths.left+n),r=this.constrainWidth(e.widths.right),i&&this.setWidth(i,o),s&&this.setWidth(s,r),e.newWidths.left=o,e.newWidths.right=r,this.triggerEvent(a.EVENT_RESIZE,[e.$leftColumn,e.$rightColumn,o,r],t)}}}},{key:"onPointerUp",value:function(t){var e=this.operation;if(this.operation)return this.unbindEvents(this.$ownerDocument,["mouseup","touchend","mousemove","touchmove"]),this.$handleContainer.add(this.$table).removeClass(a.CLASS_TABLE_RESIZING),e.$leftColumn.add(e.$rightColumn).add(e.$currentGrip).removeClass(a.CLASS_COLUMN_RESIZING),this.syncHandleWidths(),this.saveColumnWidths(),this.operation=null,this.triggerEvent(a.EVENT_RESIZE_STOP,[e.$leftColumn,e.$rightColumn,e.newWidths.left,e.newWidths.right],t)}},{key:"destroy",value:function(){var t=this.$table,e=this.$handleContainer.find("."+a.CLASS_HANDLE);return console.log("当前layout",t.css("table-layout"),this.originalTableLayout),t.css("table-layout",this.originalTableLayout),console.log("修改后layout",t.css("table-layout"),t),this.unbindEvents(this.$window.add(this.$ownerDocument).add(this.$table).add(e)),e.removeData(a.DATA_TH),t.removeData(a.DATA_API),this.$handleContainer.remove(),this.$handleContainer=null,this.$tableHeaders=null,this.$table=null,t}},{key:"bindEvents",value:function(t,e,n,i){"string"==typeof e?e+=this.ns:e=e.join(this.ns+" ")+this.ns,arguments.length>3?t.on(e,n,i):t.on(e,n)}},{key:"unbindEvents",value:function(t,e){"string"==typeof e?e+=this.ns:e=null!=e?e.join(this.ns+" ")+this.ns:this.ns,t.off(e)}},{key:"triggerEvent",value:function(t,e,n){var i=$.Event(t);return i.originalEvent&&(i.originalEvent=$.extend({},n)),this.$table.trigger(i,[this].concat(e||[]))}},{key:"generateColumnId",value:function(t){return this.$table.data(a.DATA_COLUMNS_ID)+"-"+t.data(a.DATA_COLUMN_ID)}},{key:"parseWidth",value:function(t){return t?parseFloat(t.style.width):0}},{key:"setWidth",value:function(t,e){e=e.toFixed(2),e=e>0?e:0,$(t).width(e)}},{key:"constrainWidth",value:function(t){return void 0!=this.options.minWidth&&(t=Math.max(this.options.minWidth,t)),void 0!=this.options.maxWidth&&(t=Math.min(this.options.maxWidth,t)),t}},{key:"getPointerX",value:function(t){return 0===t.type.indexOf("touch")?(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0]).pageX:t.pageX}}]),t}();n["default"]=o,o.defaults={selector:function(t){return t.find("thead").length?a.SELECTOR_TH:a.SELECTOR_TD},handleContainer:null,store:window.store,syncHandlers:!0,resizeFromBody:!0,maxWidth:null,minWidth:50},o.count=0,e.exports=n["default"]},{"./constants":3}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="resizableColumns";n.DATA_API=i;var s="resizable-columns-id";n.DATA_COLUMNS_ID=s;var a="resizable-column-id";n.DATA_COLUMN_ID=a;var o="th";n.DATA_TH=o;var r="rc-table-resizing";n.CLASS_TABLE_RESIZING=r;var h="rc-column-resizing";n.CLASS_COLUMN_RESIZING=h;var l="rc-handle";n.CLASS_HANDLE=l;var u="rc-handle-container";n.CLASS_HANDLE_CONTAINER=u;var d="column:resize:start";n.EVENT_RESIZE_START=d;var c="column:resize";n.EVENT_RESIZE=c;var f="column:resize:stop";n.EVENT_RESIZE_STOP=f;var E="tr:first > th:visible";n.SELECTOR_TH=E;var v="tr:first > td:visible";n.SELECTOR_TD=v;var $="[data-noresize]";n.SELECTOR_UNRESIZABLE=$},{}],4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var s=t("./class"),a=i(s),o=t("./adapter");i(o);n["default"]=a["default"],e.exports=n["default"]},{"./adapter":1,"./class":2}]},{},[4]);
//# sourceMappingURL=jquery.resizableColumns.min.js.map
